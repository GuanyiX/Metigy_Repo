{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/derrick/Desktop/Metigy_Repo/fe.Metigy/src/components/Settings/components/ButtonCluster.js\";\nimport React from 'react';\nimport { Button } from 'antd';\nimport { PlayCircleOutlined, PauseCircleOutlined } from '@ant-design/icons';\nimport Axios from \"axios\";\nimport store from '../../../store';\nimport saveConverter from \"../../../reference/saveConverter\";\nimport { url_updated } from \"../../../api/index\";\n\nclass ButtonCluster extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleClick = async () => {\n      const {\n        keywords_data\n      } = store.getState().keywordsReducer;\n      const {\n        sites_data\n      } = store.getState().sitesReducer;\n      const settings_raw_data = store.getState().settingsReducer;\n      let keywordsArr = this.keywordsMaker(keywords_data);\n      let sitesArr = this.sitesMaker(sites_data);\n      let settingsArr = this.settingsMaker(settings_raw_data);\n      let result = keywordsArr.concat(sitesArr).concat(settingsArr);\n      const saveData = { ...result\n      };\n\n      try {\n        await Axios.post(url_updated, saveData);\n        console.log(saveData);\n        alert(\"Successfully export current settings\");\n      } catch {\n        alert(\"Failled! Error in connection\");\n      }\n    };\n\n    this.keywordsMaker = keywords_data => {\n      let keywordsArr = [];\n      keywords_data.map((item, index) => {\n        const element = {\n          \"category\": \"keywords\",\n          \"content\": `${item}`\n        };\n        keywordsArr.push(element);\n      });\n      return keywordsArr;\n    };\n\n    this.sitesMaker = sites_data => {\n      let sitesArr = [];\n      sites_data.map((item, index) => {\n        const element = {\n          \"category\": \"sites\",\n          \"content\": `${item}`\n        };\n        sitesArr.push(element);\n      });\n      return sitesArr;\n    };\n\n    this.settingsMaker = settings_raw_data => {\n      let arr = [];\n      let settingsArr = [];\n\n      for (let [key, value] of Object.entries(settings_raw_data)) {\n        if (value === true) {\n          arr.push(key);\n        }\n      }\n\n      const settings_data = saveConverter(arr);\n      settings_data.map((item, index) => {\n        const element = {\n          \"category\": \"settings\",\n          \"content\": `${item}`\n        };\n        settingsArr.push(element);\n      });\n      return settingsArr;\n    };\n  }\n\n  render() {\n    const size = \"large\";\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"btn-wrapper flex-container\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        size: size,\n        onClick: this.handleClick,\n        children: \"EXPORT REPORT\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        icon: /*#__PURE__*/_jsxDEV(PauseCircleOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 46\n        }, this),\n        size: size,\n        children: \"STOP\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        icon: /*#__PURE__*/_jsxDEV(PlayCircleOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 46\n        }, this),\n        size: size,\n        children: \"START\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\n;\nexport default ButtonCluster;","map":{"version":3,"sources":["/home/derrick/Desktop/Metigy_Repo/fe.Metigy/src/components/Settings/components/ButtonCluster.js"],"names":["React","Button","PlayCircleOutlined","PauseCircleOutlined","Axios","store","saveConverter","url_updated","ButtonCluster","Component","handleClick","keywords_data","getState","keywordsReducer","sites_data","sitesReducer","settings_raw_data","settingsReducer","keywordsArr","keywordsMaker","sitesArr","sitesMaker","settingsArr","settingsMaker","result","concat","saveData","post","console","log","alert","map","item","index","element","push","arr","key","value","Object","entries","settings_data","render","size"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Button } from 'antd';\nimport { PlayCircleOutlined, PauseCircleOutlined } from '@ant-design/icons';\nimport Axios from \"axios\";\n\nimport store from '../../../store';\nimport saveConverter from \"../../../reference/saveConverter\";\n\nimport { url_updated } from \"../../../api/index\";\n\n\nclass ButtonCluster extends React.Component {\n\n\n    handleClick = async () => {\n\n        const { keywords_data } = store.getState().keywordsReducer;\n        const { sites_data } = store.getState().sitesReducer;\n        const settings_raw_data = store.getState().settingsReducer;\n\n        let keywordsArr = this.keywordsMaker(keywords_data);\n        let sitesArr = this.sitesMaker(sites_data);\n        let settingsArr = this.settingsMaker(settings_raw_data);\n        \n        let result = keywordsArr.concat(sitesArr).concat(settingsArr);\n        \n        const saveData = {\n            ...result\n        }\n\n        try {\n            await Axios.post(url_updated, saveData)\n            console.log(saveData);\n            alert(\"Successfully export current settings\")\n        }catch{\n            alert(\"Failled! Error in connection\")\n        }\n\n    }\n\n    keywordsMaker = (keywords_data) => {\n        let keywordsArr = [];\n\n        keywords_data.map((item, index) => {\n            const element = {\"category\": \"keywords\", \"content\": `${item}`};\n            keywordsArr.push(element) \n        })\n\n        return keywordsArr;\n    }\n\n    sitesMaker = (sites_data) => {\n        let sitesArr = [];\n\n        sites_data.map((item, index) => {\n            const element = {\"category\": \"sites\", \"content\": `${item}`};\n            sitesArr.push(element)\n        })\n\n        return sitesArr;\n    }\n\n    settingsMaker = (settings_raw_data) => {\n        let arr = [];\n        let settingsArr = [];\n\n        for (let [key, value] of Object.entries(settings_raw_data)) {\n\n            if(value === true) {\n                arr.push(key)\n            }\n        }\n\n        const settings_data = saveConverter(arr);\n\n        settings_data.map((item, index) => {\n            const element = {\"category\": \"settings\", \"content\": `${item}`};\n            settingsArr.push(element)\n        })\n\n        return settingsArr;\n    }\n\n\n    render() {\n\n        const size = \"large\";\n\n        return (\n            <div className=\"btn-wrapper flex-container\">\n                <Button type=\"primary\" size={size} onClick={this.handleClick}>\n                    EXPORT REPORT\n                </Button>\n                <Button type=\"primary\" icon={<PauseCircleOutlined />} size={size}>\n                    STOP\n                </Button>\n                <Button type=\"primary\" icon={<PlayCircleOutlined />} size={size}>\n                    START\n                </Button>\n            </div>\n        )\n    }\n};\n\nexport default ButtonCluster;"]},"metadata":{},"sourceType":"module"}